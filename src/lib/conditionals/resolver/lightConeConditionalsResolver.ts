import Adversarial from 'lib/conditionals/lightcone/3star/Adversarial'
import Amber from 'lib/conditionals/lightcone/3star/Amber'
import Arrows from 'lib/conditionals/lightcone/3star/Arrows'
import Chorus from 'lib/conditionals/lightcone/3star/Chorus'
import CollapsingSky from 'lib/conditionals/lightcone/3star/CollapsingSky'
import Cornucopia from 'lib/conditionals/lightcone/3star/Cornucopia'
import DartingArrow from 'lib/conditionals/lightcone/3star/DartingArrow'
import DataBank from 'lib/conditionals/lightcone/3star/DataBank'
import Defense from 'lib/conditionals/lightcone/3star/Defense'
import FineFruit from 'lib/conditionals/lightcone/3star/FineFruit'
import HiddenShadow from 'lib/conditionals/lightcone/3star/HiddenShadow'
import Loop from 'lib/conditionals/lightcone/3star/Loop'
import Mediation from 'lib/conditionals/lightcone/3star/Mediation'
import MeshingCogs from 'lib/conditionals/lightcone/3star/MeshingCogs'
import Multiplication from 'lib/conditionals/lightcone/3star/Multiplication'
import MutualDemise from 'lib/conditionals/lightcone/3star/MutualDemise'
import Passkey from 'lib/conditionals/lightcone/3star/Passkey'
import Pioneering from 'lib/conditionals/lightcone/3star/Pioneering'
import Sagacity from 'lib/conditionals/lightcone/3star/Sagacity'
import ShatteredHome from 'lib/conditionals/lightcone/3star/ShatteredHome'
import Void from 'lib/conditionals/lightcone/3star/Void'
import AfterTheCharmonyFall from 'lib/conditionals/lightcone/4star/AfterTheCharmonyFall'
import ASecretVow from 'lib/conditionals/lightcone/4star/ASecretVow'
import BeforeTheTutorialMissionStarts from 'lib/conditionals/lightcone/4star/BeforeTheTutorialMissionStarts'
import BoundlessChoreo from 'lib/conditionals/lightcone/4star/BoundlessChoreo'
import CarveTheMoonWeaveTheClouds from 'lib/conditionals/lightcone/4star/CarveTheMoonWeaveTheClouds'
import ConcertForTwo from 'lib/conditionals/lightcone/4star/ConcertForTwo'
import DanceDanceDance from 'lib/conditionals/lightcone/4star/DanceDanceDance'
import DayOneOfMyNewLife from 'lib/conditionals/lightcone/4star/DayOneOfMyNewLife'
import DestinysThreadsForewoven from 'lib/conditionals/lightcone/4star/DestinysThreadsForewoven'
import DreamsMontage from 'lib/conditionals/lightcone/4star/DreamsMontage'
import DreamvilleAdventure from 'lib/conditionals/lightcone/4star/DreamvilleAdventure'
import EyesOfThePrey from 'lib/conditionals/lightcone/4star/EyesOfThePrey'
import Fermata from 'lib/conditionals/lightcone/4star/Fermata'
import FinalVictor from 'lib/conditionals/lightcone/4star/FinalVictor'
import FlamesAfar from 'lib/conditionals/lightcone/4star/FlamesAfar'
import ForTomorrowsJourney from 'lib/conditionals/lightcone/4star/ForTomorrowsJourney'
import GeniusesRepose from 'lib/conditionals/lightcone/4star/GeniusesRepose'
import GoodNightAndSleepWell from 'lib/conditionals/lightcone/4star/GoodNightAndSleepWell'
import HeyOverHere from 'lib/conditionals/lightcone/4star/HeyOverHere'
import IndeliblePromise from 'lib/conditionals/lightcone/4star/IndeliblePromise'
import ItsShowtime from 'lib/conditionals/lightcone/4star/ItsShowtime'
import LandausChoice from 'lib/conditionals/lightcone/4star/LandausChoice'
import MakeTheWorldClamor from 'lib/conditionals/lightcone/4star/MakeTheWorldClamor'
import MemoriesOfThePast from 'lib/conditionals/lightcone/4star/MemoriesOfThePast'
import NinjaRecordSoundHunt from 'lib/conditionals/lightcone/4star/NinjaRecordSoundHunt'
import NowhereToRun from 'lib/conditionals/lightcone/4star/NowhereToRun'
import OnlySilenceRemains from 'lib/conditionals/lightcone/4star/OnlySilenceRemains'
import PastAndFuture from 'lib/conditionals/lightcone/4star/PastAndFuture'
import PerfectTiming from 'lib/conditionals/lightcone/4star/PerfectTiming'
import PlanetaryRendezvous from 'lib/conditionals/lightcone/4star/PlanetaryRendezvous'
import PoisedToBloom from 'lib/conditionals/lightcone/4star/PoisedToBloom'
import PostOpConversation from 'lib/conditionals/lightcone/4star/PostOpConversation'
import QuidProQuo from 'lib/conditionals/lightcone/4star/QuidProQuo'
import ResolutionShinesAsPearlsOfSweat from 'lib/conditionals/lightcone/4star/ResolutionShinesAsPearlsOfSweat'
import ReturnToDarkness from 'lib/conditionals/lightcone/4star/ReturnToDarkness'
import RiverFlowsInSpring from 'lib/conditionals/lightcone/4star/RiverFlowsInSpring'
import ShadowedByNight from 'lib/conditionals/lightcone/4star/ShadowedByNight'
import SharedFeeling from 'lib/conditionals/lightcone/4star/SharedFeeling'
import SubscribeForMore from 'lib/conditionals/lightcone/4star/SubscribeForMore'
import Swordplay from 'lib/conditionals/lightcone/4star/Swordplay'
import TheBirthOfTheSelf from 'lib/conditionals/lightcone/4star/TheBirthOfTheSelf'
import TheDayTheCosmosFell from 'lib/conditionals/lightcone/4star/TheDayTheCosmosFell'
import TheMolesWelcomeYou from 'lib/conditionals/lightcone/4star/TheMolesWelcomeYou'
import TheSeriousnessOfBreakfast from 'lib/conditionals/lightcone/4star/TheSeriousnessOfBreakfast'
import ThisIsMe from 'lib/conditionals/lightcone/4star/ThisIsMe'
import TodayIsAnotherPeacefulDay from 'lib/conditionals/lightcone/4star/TodayIsAnotherPeacefulDay'
import TrendOfTheUniversalMarket from 'lib/conditionals/lightcone/4star/TrendOfTheUniversalMarket'
import UnderTheBlueSky from 'lib/conditionals/lightcone/4star/UnderTheBlueSky'
import WarmthShortensColdNights from 'lib/conditionals/lightcone/4star/WarmthShortensColdNights'
import WeAreWildfire from 'lib/conditionals/lightcone/4star/WeAreWildfire'
import WeWillMeetAgain from 'lib/conditionals/lightcone/4star/WeWillMeetAgain'
import WhatIsReal from 'lib/conditionals/lightcone/4star/WhatIsReal'
import WoofWalkTime from 'lib/conditionals/lightcone/4star/WoofWalkTime'
import AGroundedAscent from 'lib/conditionals/lightcone/5star/AGroundedAscent'
import AlongThePassingShore from 'lib/conditionals/lightcone/5star/AlongThePassingShore'
import AnInstantBeforeAGaze from 'lib/conditionals/lightcone/5star/AnInstantBeforeAGaze'
import BaptismOfPureThought from 'lib/conditionals/lightcone/5star/BaptismOfPureThought'
import BeforeDawn from 'lib/conditionals/lightcone/5star/BeforeDawn'
import BrighterThanTheSun from 'lib/conditionals/lightcone/5star/BrighterThanTheSun'
import ButTheBattleIsntOver from 'lib/conditionals/lightcone/5star/ButTheBattleIsntOver'
import CruisingInTheStellarSea from 'lib/conditionals/lightcone/5star/CruisingInTheStellarSea'
import DanceAtSunset from 'lib/conditionals/lightcone/5star/DanceAtSunset'
import EarthlyEscapade from 'lib/conditionals/lightcone/5star/EarthlyEscapade'
import EchoesOfTheCoffin from 'lib/conditionals/lightcone/5star/EchoesOfTheCoffin'
import EternalCalculus from 'lib/conditionals/lightcone/5star/EternalCalculus'
import FlowingNightglow from 'lib/conditionals/lightcone/5star/FlowingNightglow'
import IncessantRain from 'lib/conditionals/lightcone/5star/IncessantRain'
import InherentlyUnjustDestiny from 'lib/conditionals/lightcone/5star/InherentlyUnjustDestiny'
import InTheNameOfTheWorld from 'lib/conditionals/lightcone/5star/InTheNameOfTheWorld'
import InTheNight from 'lib/conditionals/lightcone/5star/InTheNight'
import IShallBeMyOwnSword from 'lib/conditionals/lightcone/5star/IShallBeMyOwnSword'
import IVentureForthToHunt from 'lib/conditionals/lightcone/5star/IVentureForthToHunt'
import LongRoadLeadsHome from 'lib/conditionals/lightcone/5star/LongRoadLeadsHome'
import MomentOfVictory from 'lib/conditionals/lightcone/5star/MomentOfVictory'
import NightOfFright from 'lib/conditionals/lightcone/5star/NightOfFright'
import NightOnTheMilkyWay from 'lib/conditionals/lightcone/5star/NightOnTheMilkyWay'
import NinjutsuInscriptionDazzlingEvilbreaker from 'lib/conditionals/lightcone/5star/NinjutsuInscriptionDazzlingEvilbreaker'
import OnTheFallOfAnAeon from 'lib/conditionals/lightcone/5star/OnTheFallOfAnAeon'
import PastSelfInTheMirror from 'lib/conditionals/lightcone/5star/PastSelfInTheMirror'
import PatienceIsAllYouNeed from 'lib/conditionals/lightcone/5star/PatienceIsAllYouNeed'
import ReforgedRemembrance from 'lib/conditionals/lightcone/5star/ReforgedRemembrance'
import SailingTowardsASecondLife from 'lib/conditionals/lightcone/5star/SailingTowardsASecondLife'
import ScentAloneStaysTrue from 'lib/conditionals/lightcone/5star/ScentAloneStaysTrue'
import SheAlreadyShutHerEyes from 'lib/conditionals/lightcone/5star/SheAlreadyShutHerEyes'
import SleepLikeTheDead from 'lib/conditionals/lightcone/5star/SleepLikeTheDead'
import SolitaryHealing from 'lib/conditionals/lightcone/5star/SolitaryHealing'
import SomethingIrreplaceable from 'lib/conditionals/lightcone/5star/SomethingIrreplaceable'
import TextureOfMemories from 'lib/conditionals/lightcone/5star/TextureOfMemories'
import TheUnreachableSide from 'lib/conditionals/lightcone/5star/TheUnreachableSide'
import ThoseManySprings from 'lib/conditionals/lightcone/5star/ThoseManySprings'
import TimeWaitsForNoOne from 'lib/conditionals/lightcone/5star/TimeWaitsForNoOne'
import WhereaboutsShouldDreamsRest from 'lib/conditionals/lightcone/5star/WhereaboutsShouldDreamsRest'
import WorrisomeBlissful from 'lib/conditionals/lightcone/5star/WorrisomeBlissful'
import YetHopeIsPriceless from 'lib/conditionals/lightcone/5star/YetHopeIsPriceless'
import { LightConeConditionalsController } from 'types/conditionals'
import { SuperImpositionLevel } from 'types/lightCone'

export type LightConeConditionalFunction = (s: SuperImpositionLevel, withContent: boolean) => LightConeConditionalsController

const fiveStar: Record<string, LightConeConditionalFunction> = {
  23000: NightOnTheMilkyWay,
  23001: InTheNight,
  23002: SomethingIrreplaceable,
  23003: ButTheBattleIsntOver,
  23004: InTheNameOfTheWorld, // Skill atk buff not implemented
  23005: MomentOfVictory,
  23006: PatienceIsAllYouNeed, // Revisit dot
  23007: IncessantRain,
  23008: EchoesOfTheCoffin,
  23009: TheUnreachableSide,
  23010: BeforeDawn,
  23011: SheAlreadyShutHerEyes,
  23012: SleepLikeTheDead,
  23013: TimeWaitsForNoOne,
  23014: IShallBeMyOwnSword,
  23015: BrighterThanTheSun,
  23016: WorrisomeBlissful,
  23017: NightOfFright,
  23018: AnInstantBeforeAGaze,
  23019: PastSelfInTheMirror,
  23020: BaptismOfPureThought,
  23021: EarthlyEscapade,
  23022: ReforgedRemembrance,
  23023: InherentlyUnjustDestiny,
  23024: AlongThePassingShore,
  23025: WhereaboutsShouldDreamsRest,
  23026: FlowingNightglow,
  23027: SailingTowardsASecondLife,
  23028: YetHopeIsPriceless,
  23029: ThoseManySprings,
  23030: DanceAtSunset,
  23031: IVentureForthToHunt,
  23032: ScentAloneStaysTrue,
  23033: NinjutsuInscriptionDazzlingEvilbreaker,
  23034: AGroundedAscent,
  23035: LongRoadLeadsHome,

  24000: OnTheFallOfAnAeon,
  24001: CruisingInTheStellarSea,
  24002: TextureOfMemories,
  24003: SolitaryHealing,
  24004: EternalCalculus,
}

const fourStar: Record<string, LightConeConditionalFunction> = {
  21000: PostOpConversation,
  21001: GoodNightAndSleepWell,
  21002: DayOneOfMyNewLife,
  21003: OnlySilenceRemains,
  21004: MemoriesOfThePast,
  21005: TheMolesWelcomeYou,
  21006: TheBirthOfTheSelf,
  21007: SharedFeeling,
  21008: EyesOfThePrey,
  21009: LandausChoice,
  21010: Swordplay,
  21011: PlanetaryRendezvous,
  21012: ASecretVow,
  21013: MakeTheWorldClamor,
  21014: PerfectTiming, // Does the ohb apply after passives?
  21015: ResolutionShinesAsPearlsOfSweat,
  21016: TrendOfTheUniversalMarket, // Revisit dot
  21017: SubscribeForMore,
  21018: DanceDanceDance,
  21019: UnderTheBlueSky,
  21020: GeniusesRepose,
  21021: QuidProQuo,
  21022: Fermata,
  21023: WeAreWildfire,
  21024: RiverFlowsInSpring,
  21025: PastAndFuture,
  21026: WoofWalkTime,
  21027: TheSeriousnessOfBreakfast,
  21028: WarmthShortensColdNights,
  21029: WeWillMeetAgain, // Does this get affected by crit / dmg boosts?
  21030: ThisIsMe, // Def scaling dmg not implemented
  21031: ReturnToDarkness,
  21032: CarveTheMoonWeaveTheClouds,
  21033: NowhereToRun,
  21034: TodayIsAnotherPeacefulDay,
  21035: WhatIsReal,
  21036: DreamvilleAdventure,
  21037: FinalVictor,
  21038: FlamesAfar,
  21039: DestinysThreadsForewoven,
  21040: TheDayTheCosmosFell,
  21041: ItsShowtime,
  21042: IndeliblePromise,
  21043: ConcertForTwo,
  21044: BoundlessChoreo,
  21045: AfterTheCharmonyFall,
  21046: PoisedToBloom,
  21047: ShadowedByNight,
  21048: DreamsMontage,

  22000: BeforeTheTutorialMissionStarts,
  22001: HeyOverHere,
  22002: ForTomorrowsJourney,
  22003: NinjaRecordSoundHunt,
}

const threeStar: Record<string, LightConeConditionalFunction> = {
  20000: Arrows,
  20001: Cornucopia,
  20002: CollapsingSky,
  20003: Amber,
  20004: Void,
  20005: Chorus,
  20006: DataBank,
  20007: DartingArrow,
  20008: FineFruit,
  20009: ShatteredHome,
  20010: Defense,
  20011: Loop,
  20012: MeshingCogs,
  20013: Passkey,
  20014: Adversarial,
  20015: Multiplication,
  20016: MutualDemise,
  20017: Pioneering,
  20018: HiddenShadow,
  20019: Mediation,
  20020: Sagacity,
}

export const lightConeOptionMapping: Record<string, LightConeConditionalFunction> = {
  ...fiveStar,
  ...fourStar,
  ...threeStar,
}

export const LightConeConditionalsResolver = {
  get: (request: { lightCone: string; lightConeSuperimposition: number }, withContent = false): LightConeConditionalsController => {
    const lcFn = lightConeOptionMapping[request.lightCone]
    if (!lcFn) {
      return {
        content: () => [],
        defaults: () => ({}),
        precomputeEffects: () => {
        },
        finalizeCalculations: () => {
        },
      }
    }
    return lcFn(request.lightConeSuperimposition - 1, withContent)
  },
}
